@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #fafafa;
  --foreground: #171717;
  --accent: #3b82f6;
  --success: #22c55e;
  --muted: #a3a3a3;
}

.dark {
  --background: #171717;
  --foreground: #fafafa;
  --accent: #60a5fa;
  --success: #4ade80;
  --muted: #737373;
}

.brown {
  --background: #2c1810;
  --foreground: #f5e6d3;
  --accent: #d4a574;
  --success: #8b9a6b;
  --muted: #a68b6a;
}

.lemon {
  --background: #fffbeb;
  --foreground: #422006;
  --accent: #ca8a04;
  --success: #65a30d;
  --muted: #a16207;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
    Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
}

/* Smooth transitions */
* {
  transition-property: color, background-color, border-color, opacity, transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Card shadows */
.card {
  @apply bg-white dark:bg-neutral-800 rounded-lg shadow-sm border border-neutral-200 dark:border-neutral-700 p-4;
}

.brown .card {
  @apply bg-amber-950 border-amber-900;
}

.lemon .card {
  @apply bg-yellow-50 border-yellow-300;
}

.card:hover {
  @apply shadow-md dark:shadow-neutral-900/50;
}

.brown .card:hover {
  @apply shadow-amber-900/50;
}

.lemon .card:hover {
  @apply shadow-yellow-400/50;
}

/* Button base styles */
.btn {
  @apply px-4 py-2 rounded-lg font-medium transition-all;
}

.btn-primary {
  @apply bg-accent text-white hover:bg-blue-600 active:scale-95;
}

.btn-secondary {
  @apply bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-200 dark:hover:bg-neutral-600 active:scale-95;
}

.brown .btn-secondary {
  @apply bg-amber-900 text-amber-100 hover:bg-amber-800;
}

.lemon .btn-secondary {
  @apply bg-yellow-200 text-yellow-900 hover:bg-yellow-300;
}

/* Status indicator pulse animation */
@keyframes pulse-dot {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.pulse-dot {
  animation: pulse-dot 2s ease-in-out infinite;
}

/* Vote arrow wiggle animation */
@keyframes wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  15% {
    transform: rotate(-12deg);
  }
  30% {
    transform: rotate(10deg);
  }
  45% {
    transform: rotate(-8deg);
  }
  60% {
    transform: rotate(6deg);
  }
  75% {
    transform: rotate(-4deg);
  }
  90% {
    transform: rotate(2deg);
  }
}

.animate-wiggle {
  animation: wiggle 0.5s ease-in-out;
}

/* Brown mode overrides for common dark: variants */
.brown .bg-neutral-100 { @apply bg-amber-900/50; }
.brown .bg-neutral-200 { @apply bg-amber-800/50; }
.brown .bg-neutral-800 { @apply bg-amber-950; }
.brown .bg-white { @apply bg-amber-950; }
.brown .border-neutral-200 { @apply border-amber-800; }
.brown .border-neutral-300 { @apply border-amber-700; }
.brown .border-neutral-600 { @apply border-amber-700; }
.brown .border-neutral-700 { @apply border-amber-800; }
.brown .text-neutral-700 { @apply text-amber-100; }
.brown .text-neutral-600 { @apply text-amber-200; }

/* Brown mode status variants */
.brown .bg-blue-50, .brown .bg-blue-900\/30 { background-color: rgba(180, 83, 9, 0.2); }
.brown .border-blue-200, .brown .border-blue-700 { @apply border-amber-700; }
.brown .text-blue-800, .brown .text-blue-200 { @apply text-amber-200; }

/* Brown mode amber status - use CSS custom properties to avoid circular deps */
.brown [class*="bg-amber-50"], .brown [class*="bg-amber-900\/30"] { background-color: rgba(180, 83, 9, 0.3); }
.brown [class*="border-amber-200"], .brown [class*="border-amber-700"] { border-color: rgb(217, 119, 6); }
.brown [class*="text-amber-800"], .brown [class*="text-amber-200"] { color: rgb(254, 243, 199); }

.brown .bg-green-50, .brown .bg-green-900\/20 { background-color: rgba(101, 163, 13, 0.2); }
.brown .border-green-100, .brown .border-green-800 { @apply border-lime-800; }
.brown .border-green-300, .brown .border-green-700 { @apply border-lime-700; }
.brown .text-green-800 { @apply text-lime-200; }

.brown .bg-red-50, .brown .bg-red-900\/20 { background-color: rgba(153, 27, 27, 0.3); }
.brown [class*="border-red-100"], .brown [class*="border-red-800"] { border-color: rgb(127, 29, 29); }
.brown [class*="border-red-300"], .brown [class*="border-red-700"] { border-color: rgb(153, 27, 27); }

.brown .bg-yellow-100, .brown .bg-yellow-900\/50 { background-color: rgba(202, 138, 4, 0.3); }
.brown [class*="text-yellow-800"], .brown [class*="text-yellow-200"] { color: rgb(254, 240, 138); }

/* Lemon mode overrides for common variants */
.lemon .bg-neutral-100 { @apply bg-yellow-100; }
.lemon .bg-neutral-200 { @apply bg-yellow-200; }
.lemon .bg-neutral-800 { @apply bg-yellow-100; }
.lemon .bg-white { @apply bg-yellow-50; }
.lemon .border-neutral-200 { @apply border-yellow-300; }
.lemon .border-neutral-300 { @apply border-yellow-400; }
.lemon .border-neutral-600 { @apply border-yellow-500; }
.lemon .border-neutral-700 { @apply border-yellow-400; }
.lemon .text-neutral-700 { @apply text-yellow-900; }
.lemon .text-neutral-600 { @apply text-yellow-800; }
.lemon .text-neutral-500 { @apply text-yellow-700; }
.lemon .text-neutral-400 { @apply text-yellow-600; }

/* Lemon mode status variants */
.lemon .bg-blue-50 { background-color: rgba(253, 224, 71, 0.5); }
.lemon .border-blue-200 { @apply border-yellow-400; }
.lemon .text-blue-800 { @apply text-yellow-900; }

.lemon .bg-green-50 { background-color: rgba(163, 230, 53, 0.3); }
.lemon .border-green-100, .lemon .border-green-300 { @apply border-lime-400; }
.lemon .text-green-800 { @apply text-lime-800; }

.lemon .bg-red-50 { background-color: rgba(254, 202, 202, 0.5); }
.lemon [class*="border-red-100"], .lemon [class*="border-red-300"] { border-color: rgb(252, 165, 165); }

.lemon .bg-amber-50 { background-color: rgba(254, 243, 199, 0.7); }
.lemon [class*="border-amber-200"] { border-color: rgb(253, 230, 138); }

/* Terminal styling - CSS custom properties */
:root {
  --terminal-bg: rgba(23, 23, 23, 0.95);
  --terminal-text: #e5e5e5;
  --terminal-header: rgba(38, 38, 38, 0.9);
  --terminal-border: rgba(64, 64, 64, 0.5);
}

/* Light mode terminal - use dark terminal for contrast */
:root .terminal-output {
  --terminal-bg: rgba(23, 23, 23, 0.95);
  --terminal-text: #e5e5e5;
}

/* Dark mode terminal */
.dark {
  --terminal-bg: rgba(23, 23, 23, 0.95);
  --terminal-text: #fafafa;
  --terminal-header: rgba(38, 38, 38, 0.9);
  --terminal-border: rgba(64, 64, 64, 0.5);
}

/* Brown mode terminal */
.brown {
  --terminal-bg: rgba(44, 24, 16, 0.95);
  --terminal-text: #f5e6d3;
  --terminal-header: rgba(58, 32, 21, 0.9);
  --terminal-border: rgba(120, 53, 15, 0.5);
}

/* Lemon mode terminal */
.lemon {
  --terminal-bg: rgba(23, 23, 23, 0.95);
  --terminal-text: #fef3c7;
  --terminal-header: rgba(38, 38, 38, 0.9);
  --terminal-border: rgba(253, 224, 71, 0.3);
}

/* Terminal component styles */
.bg-terminal-bg {
  background-color: var(--terminal-bg);
}

.bg-terminal-header {
  background-color: var(--terminal-header);
}

.text-terminal-text {
  color: var(--terminal-text);
}

.border-terminal-border {
  border-color: var(--terminal-border);
}

/* Terminal output specific styles */
.terminal-output {
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Fira Code', monospace;
  font-size: 13px;
  line-height: 1.5;
}

/* ANSI color overrides for themes */
.terminal-output .ansi-black { color: #1e1e1e; }
.terminal-output .ansi-red { color: #ef4444; }
.terminal-output .ansi-green { color: var(--success); }
.terminal-output .ansi-yellow { color: #eab308; }
.terminal-output .ansi-blue { color: var(--accent); }
.terminal-output .ansi-magenta { color: #a855f7; }
.terminal-output .ansi-cyan { color: #06b6d4; }
.terminal-output .ansi-white { color: var(--terminal-text); }

/* Terminal scrollbar styling */
.terminal-output::-webkit-scrollbar {
  width: 8px;
}

.terminal-output::-webkit-scrollbar-track {
  background: transparent;
}

.terminal-output::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

.terminal-output::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.3);
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .terminal-output,
  .bg-terminal-bg {
    transition: none;
  }
}
